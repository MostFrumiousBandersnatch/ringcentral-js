{"version":3,"file":"ringcentral.js","sources":["../node_modules/object-assign/index.js","../src/core/Cache.js","../node_modules/isobject/index.js","../node_modules/is-plain-object/index.js","../node_modules/rollup-plugin-node-builtins/src/es6/events.js","../src/http/ApiResponse.js","../node_modules/rollup-plugin-node-builtins/src/es6/qs.js","../src/http/Client.js","../src/core/Externals.js","../src/platform/Auth.js","../src/core/Constants.js","../src/platform/Platform.js","../src/subscription/Subscription.js","../src/subscription/CachedSubscription.js","../src/SDK.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * @param {Externals} options.externals\n * @param {string} [options.prefix]\n * @property {Externals} _externals\n */\nfunction Cache(options) {\n\n    /** @private */\n    this._prefix = options.prefix || Cache.defaultPrefix;\n\n    /** @private */\n    this._externals = options.externals;\n\n}\n\nCache.defaultPrefix = 'rc-';\n\nCache.prototype.setItem = function(key, data) {\n    this._externals.localStorage[this._prefixKey(key)] = JSON.stringify(data);\n    return this;\n};\n\nCache.prototype.removeItem = function(key) {\n    delete this._externals.localStorage[this._prefixKey(key)];\n    return this;\n};\n\nCache.prototype.getItem = function(key) {\n    var item = this._externals.localStorage[this._prefixKey(key)];\n    if (!item) return null;\n    return JSON.parse(item);\n};\n\nCache.prototype.clean = function() {\n\n    for (var key in this._externals.localStorage) {\n\n        /* istanbul ignore next */\n        if (!this._externals.localStorage.hasOwnProperty(key)) continue;\n\n        if (key.indexOf(this._prefix) === 0) {\n            delete this._externals.localStorage[key];\n        }\n\n    }\n\n    return this;\n\n};\n\nCache.prototype._prefixKey = function(key) {\n    return this._prefix + key;\n};\n\nmodule.exports = Cache;","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","/**\n * @param {Externals} options.externals\n * @param {Request} [options.request]\n * @param {Response} [options.response]\n * @param {string} [options.responseText]\n * @property {Externals} _externals\n * @property {Request} _request\n * @property {Response} _response\n * @property {string} _text\n * @property {object} _json\n * @property {ApiResponse[]} _multipart\n */\nfunction ApiResponse(options) {\n\n    /** @private */\n    this._externals = options.externals;\n\n    /** @private */\n    this._request = options.request;\n\n    /** @private */\n    this._response = options.response;\n\n    /** @private */\n    this._text = options.responseText || '';\n\n    /** @private */\n    this._json = null;\n\n    /** @private */\n    this._multipart = [];\n\n}\n\nApiResponse._contentType = 'Content-Type';\nApiResponse._jsonContentType = 'application/json';\nApiResponse._multipartContentType = 'multipart/mixed';\nApiResponse._urlencodedContentType = 'application/x-www-form-urlencoded';\nApiResponse._headerSeparator = ':';\nApiResponse._bodySeparator = '\\n\\n';\nApiResponse._boundarySeparator = '--';\nApiResponse._unauthorizedStatus = 401;\nApiResponse._rateLimitStatus = 429;\n\n/**\n * @param {Response} response\n * @return {Promise<ApiResponse>}\n */\nApiResponse.prototype.receiveResponse = function(response) {\n\n    this._response = response;\n\n    return (new this._externals.Promise(function(resolve) {\n\n        // Ignore if not textual type\n        if (!this._isMultipart() && !this._isJson()) return resolve('');\n\n        return resolve(this.response().text());\n\n    }.bind(this))).then(function(text) {\n\n        this._text = text;\n        return text;\n\n    }.bind(this));\n\n};\n\n/**\n * @return {Response}\n */\nApiResponse.prototype.response = function() {\n    return this._response;\n};\n\n/**\n * @return {Request}\n */\nApiResponse.prototype.request = function() {\n    return this._request;\n};\n\n/**\n * @return {boolean}\n */\nApiResponse.prototype.ok = function() {\n    return this._response && this._response.ok;\n};\n\n/**\n * @return {string}\n */\nApiResponse.prototype.text = function() {\n    // Since we read text only in case JSON or Multipart\n    if (!this._isJson() && !this._isMultipart()) throw new Error('Response is not text');\n    return this._text;\n};\n\n/**\n * @return {object}\n */\nApiResponse.prototype.json = function() {\n    if (!this._isJson()) throw new Error('Response is not JSON');\n    if (!this._json) {\n        this._json = this._text ? JSON.parse(this._text) : null;\n    }\n    return this._json;\n};\n\n/**\n * @param [skipOKCheck]\n * @return {string}\n */\nApiResponse.prototype.error = function(skipOKCheck) {\n\n    if (this.ok() && !skipOKCheck) return null;\n\n    var message = (this._response && this._response.status ? this._response.status + ' ' : '') +\n                  (this._response && this._response.statusText ? this._response.statusText : '');\n\n    try {\n\n        if (this.json().message) message = this.json().message;\n        if (this.json().error_description) message = this.json().error_description;\n        if (this.json().description) message = this.json().description;\n\n    } catch (e) {}\n\n    return message;\n\n};\n\n/**\n * If it is not known upfront what would be the response, client code can treat any response as multipart\n * @return {ApiResponse[]}\n */\nApiResponse.prototype.toMultipart = function() {\n    if (!this._isMultipart()) return [this];\n    return this.multipart();\n};\n\n/**\n * @return {ApiResponse[]}\n */\nApiResponse.prototype.multipart = function() {\n\n    if (!this._isMultipart()) throw new Error('Response is not multipart');\n\n    if (!this._multipart.length) {\n\n        // Step 1. Split multipart response\n\n        var text = this.text();\n\n        if (!text) throw new Error('No response body');\n\n        var boundary;\n\n        try {\n            boundary = this._getContentType().match(/boundary=([^;]+)/i)[1];\n        } catch (e) {\n            throw new Error('Cannot find boundary');\n        }\n\n        if (!boundary) throw new Error('Cannot find boundary');\n\n        var parts = text.toString().split(ApiResponse._boundarySeparator + boundary);\n\n        if (parts[0].trim() === '') parts.shift();\n        if (parts[parts.length - 1].trim() == ApiResponse._boundarySeparator) parts.pop();\n\n        if (parts.length < 1) throw new Error('No parts in body');\n\n        // Step 2. Parse status info\n\n        var statusInfo = this._create(parts.shift(), this._response.status, this._response.statusText).json();\n\n        // Step 3. Parse all other parts\n\n        this._multipart = parts.map(function(part, i) {\n\n            var status = statusInfo.response[i].status;\n\n            return this._create(part, status);\n\n        }.bind(this));\n\n    }\n\n    return this._multipart;\n\n};\n\n/**\n * @private\n */\nApiResponse.prototype._isContentType = function(contentType) {\n    return this._getContentType().indexOf(contentType) > -1;\n};\n\n/**\n * @private\n */\nApiResponse.prototype._getContentType = function() {\n    return this._response.headers.get(ApiResponse._contentType) || '';\n};\n\n/**\n * @private\n */\nApiResponse.prototype._isMultipart = function() {\n    return this._isContentType(ApiResponse._multipartContentType);\n};\n\n/**\n * @private\n */\nApiResponse.prototype._isJson = function() {\n    return this._isContentType(ApiResponse._jsonContentType);\n};\n\n/**\n * Method is used to create ApiResponse object from string parts of multipart/mixed response\n * @param {string} [text]\n * @param {number} [status]\n * @param {string} [statusText]\n * @private\n * @return {ApiResponse}\n */\nApiResponse.prototype._create = function(text, status, statusText) {\n\n    text = text || '';\n    status = status || 200;\n    statusText = statusText || 'OK';\n\n    text = text.replace(/\\r/g, '');\n\n    var headers = new this._externals.Headers(),\n        headersAndBody = text.split(ApiResponse._bodySeparator),\n        headersText = (headersAndBody.length > 1) ? headersAndBody.shift() : '';\n\n    text = headersAndBody.length > 0 ? headersAndBody.join(ApiResponse._bodySeparator) : null;\n\n    (headersText || '')\n        .split('\\n')\n        .forEach(function(header) {\n\n            var split = header.trim().split(ApiResponse._headerSeparator),\n                key = split.shift().trim(),\n                value = split.join(ApiResponse._headerSeparator).trim();\n\n            if (key) headers.append(key, value);\n\n        });\n\n    var response = new this._externals.Response(text, {\n        headers: headers,\n        status: status,\n        statusText: statusText\n    });\n\n    return new ApiResponse({\n        externals: this._externals,\n        request: null,\n        response: response,\n        responseText: text\n    });\n\n};\n\nmodule.exports = ApiResponse;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\nfunction stringifyPrimitive(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n}\n\nexport function stringify (obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\nexport function parse(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\nexport default {\n  encode: stringify,\n  stringify: stringify,\n  decode: parse,\n  parse: parse\n}\nexport {stringify as encode, parse as decode};\n","var isPlainObject = require(\"is-plain-object\");\nvar EventEmitter = require(\"events\").EventEmitter;\nvar ApiResponse = require(\"./ApiResponse\");\nvar qs = require(\"querystring\");\n\nfunction findHeaderName(name, headers) {\n    name = name.toLowerCase();\n    return Object.keys(headers).reduce(function(res, key) {\n        if (res) return res;\n        if (name == key.toLowerCase()) return key;\n        return res;\n    }, null);\n}\n\n/**\n * @param {Externals} externals\n * @property {Externals} _externals\n */\nfunction Client(externals) {\n\n    EventEmitter.call(this);\n\n    /** @private */\n    this._externals = externals;\n\n    this.events = {\n        beforeRequest: 'beforeRequest',\n        requestSuccess: 'requestSuccess',\n        requestError: 'requestError'\n    };\n\n}\n\nClient._allowedMethods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'];\n\nClient.prototype = Object.create(EventEmitter.prototype);\n\n/**\n * @param {Request} request\n * @return {Promise<ApiResponse>}\n */\nClient.prototype.sendRequest = function(request) {\n\n    var apiResponse = new ApiResponse({\n        externals: this._externals,\n        request: request\n    });\n\n    return (new this._externals.Promise(function(resolve) {\n\n        //TODO Stop request if listeners return false\n        this.emit(this.events.beforeRequest, apiResponse);\n\n        resolve(this._loadResponse(request));\n\n    }.bind(this))).then(function(response) {\n\n        return apiResponse.receiveResponse(response);\n\n    }).then(function() {\n\n        if (!apiResponse.ok()) throw new Error('Response has unsuccessful status');\n\n        this.emit(this.events.requestSuccess, apiResponse);\n\n        return apiResponse;\n\n    }.bind(this)).catch(function(e) {\n\n        if (!e.apiResponse) e = this.makeError(e, apiResponse);\n\n        this.emit(this.events.requestError, e);\n\n        throw e;\n\n    }.bind(this));\n\n};\n\n/**\n * @param {Request} request\n * @return {Promise<Response>}\n * @private\n */\nClient.prototype._loadResponse = function(request) {\n    return this._externals.fetch.call(null, request);\n};\n\n/**\n * Wraps the JS Error object with transaction information\n * @param {Error|IApiError} e\n * @param {ApiResponse} apiResponse\n * @return {IApiError}\n */\nClient.prototype.makeError = function(e, apiResponse) {\n\n    // Wrap only if regular error\n    if (!e.hasOwnProperty('apiResponse') && !e.hasOwnProperty('originalMessage')) {\n\n        e.apiResponse = apiResponse;\n        e.originalMessage = e.message;\n        e.message = (apiResponse && apiResponse.error(true)) || e.originalMessage;\n\n    }\n\n    return e;\n\n};\n\n/**\n *\n * @param {object} init\n * @param {object} [init.url]\n * @param {object} [init.body]\n * @param {string} [init.method]\n * @param {object} [init.query]\n * @param {object} [init.headers]\n * @param {object} [init.credentials]\n * @param {object} [init.mode]\n * @return {Request}\n */\nClient.prototype.createRequest = function(init) {\n\n    init = init || {};\n    init.headers = init.headers || {};\n\n    // Sanity checks\n    if (!init.url) throw new Error('Url is not defined');\n    if (!init.method) init.method = 'GET';\n    init.method = init.method.toUpperCase();\n    if (init.method && Client._allowedMethods.indexOf(init.method) < 0) {\n        throw new Error('Method has wrong value: ' + init.method);\n    }\n\n    // Defaults\n    init.credentials = init.credentials || 'include';\n    init.mode = init.mode || 'cors';\n\n    // Append Query String\n    if (init.query) {\n        init.url = init.url + (init.url.indexOf('?') > -1 ? '&' : '?') + qs.stringify(init.query);\n    }\n\n    if (!(findHeaderName('Accept', init.headers))) {\n        init.headers.Accept = ApiResponse._jsonContentType;\n    }\n\n    // Serialize body\n    if (isPlainObject(init.body) || !init.body) {\n\n        var contentTypeHeaderName = findHeaderName(ApiResponse._contentType, init.headers);\n\n        if (!contentTypeHeaderName) {\n            contentTypeHeaderName = ApiResponse._contentType;\n            init.headers[contentTypeHeaderName] = ApiResponse._jsonContentType;\n        }\n\n        var contentType = init.headers[contentTypeHeaderName];\n\n        // Assign a new encoded body\n        if (contentType.indexOf(ApiResponse._jsonContentType) > -1) {\n            if ((init.method === 'GET' || init.method === 'HEAD') && !!init.body) {\n                // oddly setting body to null still result in TypeError in phantomjs\n                init.body = undefined;\n            } else {\n                init.body = JSON.stringify(init.body);\n            }\n\n        } else if (contentType.indexOf(ApiResponse._urlencodedContentType) > -1) {\n            init.body = qs.stringify(init.body);\n        }\n\n    }\n\n    // Create a request with encoded body\n    var req = new this._externals.Request(init.url, init);\n\n    // Keep the original body accessible directly (for mocks)\n    req.originalBody = init.body;\n\n    return req;\n\n};\n\n/**\n * @typedef {object} IApiError\n * @property {string} stack\n * @property {string} originalMessage\n * @property {ApiResponse} apiResponse\n */\n\nmodule.exports = Client;","var pubnub = require(\"pubnub\");\nvar es6Promise = require(\"es6-promise\");\nvar FetchPonyfill = require(\"fetch-ponyfill\");\n\nvar root = (typeof window !== \"undefined\" && window) ||\n           (typeof global !== \"undefined\" && global) ||\n           (function(){ return this; })();\n\n/**\n * @constructor\n * @param {PubNub} [options.PubNub]\n * @param {function(new:Promise)} [options.Promise]\n * @param {Storage} [options.localStorage]\n * @param {fetch} [options.fetch]\n * @param {function(new:Request)} [options.Request]\n * @param {function(new:Response)} [options.Response]\n * @param {function(new:Headers)} [options.Headers]\n * @property {PubNub} PubNub\n * @property {Storage} localStorage\n * @property {function(new:Promise)} Promise\n * @property {fetch} fetch\n * @property {function(new:Request)} Request\n * @property {function(new:Response)} Response\n * @property {function(new:Headers)} Headers\n */\nfunction Externals(options) {\n\n    options = options || {};\n\n    this.PubNub = options.PubNub || root.PubNub || pubnub;\n    this.localStorage = options.localStorage || ((typeof root.localStorage !== 'undefined') ? root.localStorage : {});\n    this.Promise = options.Promise || root.Promise || (es6Promise && es6Promise.Promise);\n\n    var fetchPonyfill = FetchPonyfill ? FetchPonyfill({Promise: this.Promise}) : {};\n\n    this.fetch = options.fetch || root.fetch || fetchPonyfill.fetch;\n    this.Request = options.Request || root.Request || fetchPonyfill.Request;\n    this.Response = options.Response || root.Response || fetchPonyfill.Response;\n    this.Headers = options.Headers || root.Headers || fetchPonyfill.Headers;\n\n    /* istanbul ignore next */\n    if (!this.fetch || !this.Response || !this.Request || !this.Headers) {\n        throw new Error('Fetch API is missing');\n    }\n\n    /* istanbul ignore next */\n    if (!this.Promise) {\n        throw new Error('Promise is missing');\n    }\n\n    /* istanbul ignore next */\n    if (!this.localStorage) {\n        throw new Error('LocalStorage is missing');\n    }\n\n    /* istanbul ignore next */\n    if (!this.PubNub) {\n        throw new Error('PubNub is missing');\n    }\n\n}\n\nmodule.exports = Externals;\n","/**\n * @param {Cache} options.cache\n * @param {string} options.cacheId\n * @param {int} [options.refreshHandicapMs]\n * @constructor\n * @property {Cache} _cache\n * @property {int} _refreshHandicapMs\n * @property {string} _cacheId\n */\nfunction Auth(options) {\n\n    /** @private */\n    this._cache = options.cache;\n\n    /** @private */\n    this._cacheId = options.cacheId;\n\n    /** @private */\n    this._refreshHandicapMs = options.refreshHandicapMs || 60 * 1000; // 1 minute\n\n}\n\nAuth.prototype.accessToken = function() {\n    return this.data().access_token;\n};\n\nAuth.prototype.refreshToken = function() {\n    return this.data().refresh_token;\n};\n\nAuth.prototype.tokenType = function() {\n    return this.data().token_type;\n};\n\n/**\n * @return {{token_type: string, access_token: string, expires_in: number, refresh_token: string, refresh_token_expires_in: number}}\n */\nAuth.prototype.data = function() {\n\n    return this._cache.getItem(this._cacheId) || {\n            token_type: '',\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        };\n\n};\n\n/**\n * @param {object} newData\n * @return {Auth}\n */\nAuth.prototype.setData = function(newData) {\n\n    newData = newData || {};\n\n    var data = this.data();\n\n    Object.keys(newData).forEach(function(key) {\n        data[key] = newData[key];\n    });\n\n    data.expire_time = Date.now() + (data.expires_in * 1000);\n    data.refresh_token_expire_time = Date.now() + (data.refresh_token_expires_in * 1000);\n\n    this._cache.setItem(this._cacheId, data);\n\n    return this;\n\n};\n\n/**\n * Check if there is a valid (not expired) access token\n * @return {boolean}\n */\nAuth.prototype.accessTokenValid = function() {\n\n    var authData = this.data();\n    return (authData.expire_time - this._refreshHandicapMs > Date.now());\n\n};\n\n/**\n * Check if there is a valid (not expired) access token\n * @return {boolean}\n */\nAuth.prototype.refreshTokenValid = function() {\n\n    return (this.data().refresh_token_expire_time > Date.now());\n\n};\n\n/**\n * @return {Auth}\n */\nAuth.prototype.cancelAccessToken = function() {\n\n    return this.setData({\n        access_token: '',\n        expires_in: 0\n    });\n\n};\n\nmodule.exports = Auth;\n\n//export interface IAuthData {\n//    remember?:boolean;\n//    token_type?:string;\n//    access_token?:string;\n//    expires_in?:number; // actually it's string\n//    expire_time?:number;\n//    refresh_token?:string;\n//    refresh_token_expires_in?:number; // actually it's string\n//    refresh_token_expire_time?:number;\n//    scope?:string;\n//}\n","module.exports = {\n    version: require('../../package.json').version,\n    authResponseProperty: 'RCAuthorizationResponse'\n};","var EventEmitter = require(\"events\").EventEmitter;\nvar qs = require(\"querystring\");\nvar objectAssign = require('object-assign');\nvar Auth = require(\"./Auth\");\nvar Constants = require(\"../core/Constants\");\nvar ApiResponse = require(\"../http/ApiResponse\");\n\n/**\n * @constructor\n * @param {string} options.server\n * @param {string} options.appSecret\n * @param {string} options.appKey\n * @param {string} [options.appName]\n * @param {string} [options.appVersion]\n * @param {string} [options.redirectUri]\n * @param {int} [options.refreshDelayMs]\n * @param {int} [options.refreshHandicapMs]\n * @param {boolean} [options.clearCacheOnRefreshError]\n * @param {Externals} options.externals\n * @param {Cache} options.cache\n * @param {Client} options.client\n * @property {Externals} _externals\n * @property {Cache} _cache\n * @property {Client} _client\n * @property {Promise<ApiResponse>} _refreshPromise\n * @property {Auth} _auth\n */\nfunction Platform(options) {\n\n    EventEmitter.call(this);\n\n    this.events = {\n        beforeLogin: 'beforeLogin',\n        loginSuccess: 'loginSuccess',\n        loginError: 'loginError',\n        beforeRefresh: 'beforeRefresh',\n        refreshSuccess: 'refreshSuccess',\n        refreshError: 'refreshError',\n        beforeLogout: 'beforeLogout',\n        logoutSuccess: 'logoutSuccess',\n        logoutError: 'logoutError',\n        rateLimitError: 'rateLimitError'\n    };\n\n    options = options || {};\n\n    /** @private */\n    this._server = options.server;\n\n    /** @private */\n    this._appKey = options.appKey;\n\n    /** @private */\n    this._appSecret = options.appSecret;\n\n    /** @private */\n    this._redirectUri = options.redirectUri || '';\n\n    /** @private */\n    this._refreshDelayMs = options.refreshDelayMs || 100;\n\n    /** @private */\n    this._clearCacheOnRefreshError = typeof options.clearCacheOnRefreshError !== 'undefined' ?\n                                     options.clearCacheOnRefreshError :\n                                     true;\n\n    /** @private */\n    this._userAgent = (options.appName ?\n                      (options.appName + (options.appVersion ? '/' + options.appVersion : '')) + ' ' :\n                       '') + 'RCJSSDK/' + Constants.version;\n\n    /** @private */\n    this._externals = options.externals;\n\n    /** @private */\n    this._cache = options.cache;\n\n    /** @private */\n    this._client = options.client;\n\n    /** @private */\n    this._refreshPromise = null;\n\n    /** @private */\n    this._auth = new Auth({\n        cache: this._cache,\n        cacheId: Platform._cacheId,\n        refreshHandicapMs: options.refreshHandicapMs\n    });\n\n}\n\nPlatform._urlPrefix = '/restapi';\nPlatform._apiVersion = 'v1.0';\nPlatform._tokenEndpoint = '/restapi/oauth/token';\nPlatform._revokeEndpoint = '/restapi/oauth/revoke';\nPlatform._authorizeEndpoint = '/restapi/oauth/authorize';\nPlatform._cacheId = 'platform';\n\nPlatform.prototype = Object.create(EventEmitter.prototype);\n\nPlatform.prototype.delay = function(timeout) {\n    return new this._externals.Promise(function(resolve, reject) {\n        setTimeout(function() {\n            resolve(null);\n        }, timeout);\n    });\n};\n\n/**\n * @return {Auth}\n */\nPlatform.prototype.auth = function() {\n    return this._auth;\n};\n\n/**\n * @return {Client}\n */\nPlatform.prototype.client = function() {\n    return this._client;\n};\n\n/**\n * @param {string} path\n * @param {object} [options]\n * @param {boolean} [options.addServer]\n * @param {string} [options.addMethod]\n * @param {boolean} [options.addToken]\n * @return {string}\n */\nPlatform.prototype.createUrl = function(path, options) {\n\n    path = path || '';\n    options = options || {};\n\n    var builtUrl = '',\n        hasHttp = path.indexOf('http://') != -1 || path.indexOf('https://') != -1;\n\n    if (options.addServer && !hasHttp) builtUrl += this._server;\n\n    if (path.indexOf(Platform._urlPrefix) == -1 && !hasHttp) builtUrl += Platform._urlPrefix + '/' + Platform._apiVersion;\n\n    builtUrl += path;\n\n    if (options.addMethod || options.addToken) builtUrl += (path.indexOf('?') > -1 ? '&' : '?');\n\n    if (options.addMethod) builtUrl += '_method=' + options.addMethod;\n    if (options.addToken) builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this._auth.accessToken();\n\n    return builtUrl;\n\n};\n\n/**\n * @param {string} [options.redirectUri] Overrides default RedirectURI\n * @param {string} [options.state]\n * @param {string} [options.brandId]\n * @param {string} [options.display]\n * @param {string} [options.prompt]\n * @param {boolean} [options.implicit] Use Implicit Grant flow\n * @return {string}\n */\nPlatform.prototype.loginUrl = function(options) {\n\n    options = options || {};\n\n    return this.createUrl(Platform._authorizeEndpoint + '?' + qs.stringify({\n            'response_type': options.implicit ? 'token' : 'code',\n            'redirect_uri': options.redirectUri || this._redirectUri,\n            'client_id': this._appKey,\n            'state': options.state || '',\n            'brand_id': options.brandId || '',\n            'display': options.display || '',\n            'prompt': options.prompt || ''\n        }), {addServer: true});\n\n};\n\n/**\n * @param {string} url\n * @return {Object}\n */\nPlatform.prototype.parseLoginRedirect = function(url) {\n\n    function getParts(url, separator) {\n        return url.split(separator).reverse()[0];\n    }\n\n    var response = (url.indexOf('#') === 0 && getParts(url, '#')) ||\n                   (url.indexOf('?') === 0 && getParts(url, '?')) ||\n                   null;\n\n    if (!response) throw new Error('Unable to parse response');\n\n    var queryString = qs.parse(response);\n\n    if (!queryString) throw new Error('Unable to parse response');\n\n    var error = queryString.error_description || queryString.error;\n\n    if (error) {\n        var e = new Error(error);\n        e.error = queryString.error;\n        throw e;\n    }\n\n    return queryString;\n\n};\n\n/**\n * Convenience method to handle 3-legged OAuth\n *\n * Attention! This is an experimental method and it's signature and behavior may change without notice.\n *\n * @experimental\n * @param {string} options.url\n * @param {number} [options.width]\n * @param {number} [options.height]\n * @param {object} [options.login] additional options for login()\n * @param {string} [options.origin]\n * @param {string} [options.property] name of window.postMessage's event data property\n * @param {string} [options.target] target for window.open()\n * @return {Promise}\n */\nPlatform.prototype.loginWindow = function(options) {\n\n    return new this._externals.Promise(function(resolve, reject) {\n\n        if (typeof window === 'undefined') throw new Error('This method can be used only in browser');\n\n        if (!options.url) throw new Error('Missing mandatory URL parameter');\n\n        options = options || {};\n        options.width = options.width || 400;\n        options.height = options.height || 600;\n        options.origin = options.origin || window.location.origin;\n        options.property = options.property || Constants.authResponseProperty;\n        options.target = options.target || '_blank';\n\n        var dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : screen.left;\n        var dualScreenTop = window.screenTop !== undefined ? window.screenTop : screen.top;\n\n        var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n        var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n        var left = ((width / 2) - (options.width / 2)) + dualScreenLeft;\n        var top = ((height / 2) - (options.height / 2)) + dualScreenTop;\n        var win = window.open(options.url, '_blank', (options.target == '_blank') ? 'scrollbars=yes, status=yes, width=' + options.width + ', height=' + options.height + ', left=' + left + ', top=' + top : '');\n\n        if (!win) {\n            throw new Error('Could not open login window. Please allow popups for this site');\n        }\n\n        if (win.focus) win.focus();\n\n        var eventMethod = window.addEventListener ? 'addEventListener' : 'attachEvent';\n        var eventRemoveMethod = eventMethod == 'addEventListener' ? 'removeEventListener' : 'detachEvent';\n        var messageEvent = eventMethod == 'addEventListener' ? 'message' : 'onmessage';\n\n        var eventListener = function(e) {\n\n            try {\n\n                if (e.origin != options.origin) return;\n                if (!e.data || !e.data[options.property]) return; // keep waiting\n\n                win.close();\n                window[eventRemoveMethod](messageEvent, eventListener);\n\n\n                var loginOptions = this.parseLoginRedirect(e.data[options.property]);\n\n                if (!loginOptions.code && !loginOptions.access_token) throw new Error('No authorization code or token');\n\n                resolve(loginOptions);\n\n                /* jshint -W002 */\n            } catch (e) {\n                reject(e);\n            }\n\n        }.bind(this);\n\n        window[eventMethod](messageEvent, eventListener, false);\n\n    }.bind(this));\n\n};\n\n/**\n * @return {Promise<boolean>}\n */\nPlatform.prototype.loggedIn = function() {\n\n    return this.ensureLoggedIn().then(function() {\n        return true;\n    }).catch(function() {\n        return false;\n    });\n\n};\n\n/**\n * @param {string} options.username\n * @param {string} options.password\n * @param {string} [options.extension]\n * @param {string} [options.code]\n * @param {string} [options.redirectUri]\n * @param {string} [options.endpointId]\n * @param {string} [options.accessTokenTtl]\n * @param {string} [options.refreshTokenTtl]\n * @param {string} [options.access_token]\n * @returns {Promise<ApiResponse>}\n */\nPlatform.prototype.login = function(options) {\n\n    return (new this._externals.Promise(function(resolve) {\n\n        options = options || {};\n\n        this.emit(this.events.beforeLogin);\n\n        var body = {};\n\n        if (options.access_token) {\n\n            //TODO Potentially make a request to /oauth/tokeninfo\n            return resolve(options);\n\n        }\n\n        if (!options.code) {\n\n            body.grant_type = 'password';\n            body.username = options.username;\n            body.password = options.password;\n            body.extension = options.extension || '';\n\n        } else if (options.code) {\n\n            body.grant_type = 'authorization_code';\n            body.code = options.code;\n            body.redirect_uri = options.redirectUri || this._redirectUri;\n            //body.client_id = this.getCredentials().key; // not needed\n\n        }\n\n        if (options.endpointId) body.endpoint_id = options.endpointId;\n        if (options.accessTokenTtl) body.accessTokenTtl = options.accessTokenTtl;\n        if (options.refreshTokenTtl) body.refreshTokenTtl = options.refreshTokenTtl;\n\n        resolve(this._tokenRequest(Platform._tokenEndpoint, body));\n\n    }.bind(this))).then(function(res) {\n\n        var apiResponse = res.json ? res : null;\n        var json = apiResponse && apiResponse.json() || res;\n\n        this._auth.setData(json);\n\n        this.emit(this.events.loginSuccess, apiResponse);\n\n        return apiResponse;\n\n    }.bind(this)).catch(function(e) {\n\n        if (this._clearCacheOnRefreshError) {\n            this._cache.clean();\n        }\n\n        this.emit(this.events.loginError, e);\n\n        throw e;\n\n    }.bind(this));\n\n};\n\n/**\n * @returns {Promise<ApiResponse>}\n * @private\n */\nPlatform.prototype._refresh = function() {\n\n    return this.delay(this._refreshDelayMs).then(function() {\n\n        this.emit(this.events.beforeRefresh);\n\n        // Perform sanity checks\n        if (!this._auth.refreshToken()) throw new Error('Refresh token is missing');\n        if (!this._auth.refreshTokenValid()) throw new Error('Refresh token has expired');\n\n        return this._tokenRequest(Platform._tokenEndpoint, {\n            \"grant_type\": \"refresh_token\",\n            \"refresh_token\": this._auth.refreshToken(),\n            \"access_token_ttl\": this._auth.data().expires_in + 1,\n            \"refresh_token_ttl\": this._auth.data().refresh_token_expires_in + 1\n        });\n\n    }.bind(this)).then(function(/** @type {ApiResponse} */ res) {\n\n        var json = res.json();\n\n        if (!json.access_token) {\n            throw this._client.makeError(new Error('Malformed OAuth response'), res);\n        }\n\n        this._auth.setData(json);\n\n        this.emit(this.events.refreshSuccess, res);\n\n        return res;\n\n    }.bind(this)).catch(function(e) {\n\n        e = this._client.makeError(e);\n\n        if (this._clearCacheOnRefreshError) {\n            this._cache.clean();\n        }\n\n        this.emit(this.events.refreshError, e);\n\n        throw e;\n\n    }.bind(this));\n\n};\n\n/**\n * @returns {Promise<ApiResponse>}\n */\nPlatform.prototype.refresh = function() {\n\n    if (!this._refreshPromise) {\n\n        this._refreshPromise = this._refresh()\n            .then(function(res) {\n                this._refreshPromise = null;\n                return res;\n            }.bind(this))\n            .catch(function(e) {\n                this._refreshPromise = null;\n                throw e;\n            }.bind(this));\n\n    }\n\n    return this._refreshPromise;\n\n};\n\n/**\n * @returns {Promise<ApiResponse>}\n */\nPlatform.prototype.logout = function() {\n\n    return (new this._externals.Promise(function(resolve) {\n\n        this.emit(this.events.beforeLogout);\n\n        resolve(this._tokenRequest(Platform._revokeEndpoint, {\n            token: this._auth.accessToken()\n        }));\n\n    }.bind(this))).then(function(res) {\n\n        this._cache.clean();\n\n        this.emit(this.events.logoutSuccess, res);\n\n        return res;\n\n    }.bind(this)).catch(function(e) {\n\n        this.emit(this.events.logoutError, e);\n\n        throw e;\n\n    }.bind(this));\n\n};\n\n/**\n * @param {Request} request\n * @param {object} [options]\n * @param {boolean} [options.skipAuthCheck]\n * @return {Promise<Request>}\n */\nPlatform.prototype.inflateRequest = function(request, options) {\n\n    options = options || {};\n\n    if (options.skipAuthCheck) return this._externals.Promise.resolve(request);\n\n    return this.ensureLoggedIn().then(function() {\n\n        request.headers.set('X-User-Agent', this._userAgent);\n        request.headers.set('Client-Id', this._appKey);\n        request.headers.set('Authorization', this._authHeader());\n        //request.url = this.createUrl(request.url, {addServer: true}); //FIXME Spec prevents this...\n\n        return request;\n\n    }.bind(this));\n\n};\n\n/**\n * @param {Request} request\n * @param {object} [options]\n * @param {boolean} [options.skipAuthCheck]\n * @param {boolean|int} [options.handleRateLimit]\n * @param {boolean} [options.retry] Will be set by this method if SDK makes second request\n * @return {Promise<ApiResponse>}\n */\nPlatform.prototype.sendRequest = function(request, options) {\n\n    return this.inflateRequest(request, options).then(function(request) {\n\n        options = options || {};\n\n        return this._client.sendRequest(request);\n\n    }.bind(this)).catch(function(e) {\n\n        // Guard is for errors that come from polling\n        if (!e.apiResponse || !e.apiResponse.response() || options.retry) throw e;\n\n        var response = e.apiResponse.response();\n        var status = response.status;\n\n        if ((status != ApiResponse._unauthorizedStatus) &&\n            (status != ApiResponse._rateLimitStatus)) throw e;\n\n        options.retry = true;\n\n        var retryAfter = 0;\n\n        if (status == ApiResponse._unauthorizedStatus) {\n            this._auth.cancelAccessToken();\n        }\n\n        if (status == ApiResponse._rateLimitStatus) {\n\n            var defaultRetryAfter = (!options.handleRateLimit || typeof options.handleRateLimit == 'boolean' ? 60 : options.handleRateLimit);\n\n            // FIXME retry-after is custom header, by default, it can't be retrieved. Server should add header: 'Access-Control-Expose-Headers: retry-after'.\n            retryAfter = parseFloat(response.headers.get('retry-after') || defaultRetryAfter) * 1000;\n\n            e.retryAfter = retryAfter;\n\n            this.emit(this.events.rateLimitError, e);\n\n            if (!options.handleRateLimit) throw e;\n\n        }\n\n        return this.delay(retryAfter).then(function() {\n            return this.sendRequest(request, options);\n        }.bind(this));\n\n    }.bind(this));\n\n};\n\n/**\n * General purpose function to send anything to server\n * @param {string} options.url\n * @param {object} [options.body]\n * @param {string} [options.method]\n * @param {object} [options.query]\n * @param {object} [options.headers]\n * @param {boolean} [options.skipAuthCheck]\n * @param {boolean|int} [options.handleRateLimit]\n * @return {Promise<ApiResponse>}\n */\nPlatform.prototype.send = function(options) {\n\n    options = options || {};\n\n    //FIXME https://github.com/bitinn/node-fetch/issues/43\n    options.url = this.createUrl(options.url, {addServer: true});\n\n    return this.sendRequest(this._client.createRequest(options), options);\n\n};\n\n/**\n * @param {string} url\n * @param {object} [query]\n * @param {object} [options]\n * @param {object} [options.headers]\n * @param {boolean} [options.skipAuthCheck]\n * @param {boolean|int} [options.handleRateLimit]\n * @return {Promise<ApiResponse>}\n */\nPlatform.prototype.get = function(url, query, options) {\n    return this.send(objectAssign({}, {method: 'GET', url: url, query: query}, options));\n};\n\n/**\n * @param {string} url\n * @param {object} body\n * @param {object} [query]\n * @param {object} [options]\n * @param {object} [options.headers]\n * @param {boolean} [options.skipAuthCheck]\n * @param {boolean|int} [options.handleRateLimit]\n * @return {Promise<ApiResponse>}\n */\nPlatform.prototype.post = function(url, body, query, options) {\n    return this.send(objectAssign({}, {method: 'POST', url: url, query: query, body: body}, options));\n};\n\n/**\n * @param {string} url\n * @param {object} [body]\n * @param {object} [query]\n * @param {object} [options]\n * @param {object} [options.headers]\n * @param {boolean} [options.skipAuthCheck]\n * @param {boolean|int} [options.handleRateLimit]\n * @return {Promise<ApiResponse>}\n */\nPlatform.prototype.put = function(url, body, query, options) {\n    return this.send(objectAssign({}, {method: 'PUT', url: url, query: query, body: body}, options));\n};\n\n/**\n * @param {string} url\n * @param {string} [query]\n * @param {object} [options]\n * @param {object} [options.headers]\n * @param {boolean} [options.skipAuthCheck]\n * @param {boolean|int} [options.handleRateLimit]\n * @return {Promise<ApiResponse>}\n */\nPlatform.prototype['delete'] = function(url, query, options) {\n    return this.send(objectAssign({}, {method: 'DELETE', url: url, query: query}, options));\n};\n\nPlatform.prototype.ensureLoggedIn = function() {\n    if (this._isAccessTokenValid()) return this._externals.Promise.resolve();\n    return this.refresh();\n};\n\n/**\n * @param path\n * @param body\n * @return {Promise.<ApiResponse>}\n * @private\n */\nPlatform.prototype._tokenRequest = function(path, body) {\n\n    return this.send({\n        url: path,\n        skipAuthCheck: true,\n        body: body,\n        method: 'POST',\n        headers: {\n            'Authorization': 'Basic ' + this._apiKey(),\n            'Content-Type': ApiResponse._urlencodedContentType\n        }\n    });\n\n};\n\n/**\n * @return {boolean}\n * @private\n */\nPlatform.prototype._isAccessTokenValid = function() {\n    return this._auth.accessTokenValid();\n};\n\n/**\n * @return {string}\n * @private\n */\nPlatform.prototype._apiKey = function() {\n    var apiKey = this._appKey + ':' + this._appSecret;\n    return (typeof btoa == 'function') ? btoa(apiKey) : new Buffer(apiKey).toString('base64');\n};\n\n/**\n * @return {string}\n * @private\n */\nPlatform.prototype._authHeader = function() {\n    var token = this._auth.accessToken();\n    return this._auth.tokenType() + (token ? ' ' + token : '');\n};\n\nmodule.exports = Platform;\n","var EventEmitter = require(\"events\").EventEmitter;\n\n// detect ISO 8601 format string with +00[:00] timezone notations\nvar ISO_REG_EXP = /(\\+[\\d]{2}):?([\\d]{2})?$/;\n\nfunction buildIEFriendlyString(match, $1, $2) {\n    return $1 + ':' + ($2 || '00');\n}\n\n/**\n *\n * @param {string} time\n * @return {number}\n */\nfunction parseISOString(time) {\n    time = time || 0;\n    if (typeof time === 'string') {\n        return Date.parse(time.replace(ISO_REG_EXP, buildIEFriendlyString));\n    }\n    return time;\n}\n\n/**\n * @param {Platform} options.platform\n * @param {Externals} options.externals\n * @param {int} [options.pollInterval]\n * @param {int} [options.renewHandicapMs]\n * @property {Externals} _externals\n * @property {Platform} _platform\n * @property {int} _pollInterval\n * @property {int} _renewHandicapMs\n * @property {PubNub} _pubnub\n * @property {string} _pubnubLastChannel\n * @property {int} _timeout\n * @property {ISubscription} _subscription\n * @constructor\n */\nfunction Subscription(options) {\n\n    EventEmitter.call(this);\n\n    options = options || {};\n\n    this.events = {\n        notification: 'notification',\n        removeSuccess: 'removeSuccess',\n        removeError: 'removeError',\n        renewSuccess: 'renewSuccess',\n        renewError: 'renewError',\n        subscribeSuccess: 'subscribeSuccess',\n        subscribeError: 'subscribeError',\n        automaticRenewSuccess: 'automaticRenewSuccess',\n        automaticRenewError: 'automaticRenewError'\n    };\n\n    /** @private */\n    this._externals = options.externals;\n\n    /** @private */\n    this._platform = options.platform;\n\n    /** @private */\n    this._pollInterval = options.pollInterval || 10 * 1000;\n\n    /** @private */\n    this._renewHandicapMs = options.renewHandicapMs || 2 * 60 * 1000;\n\n    /** @private */\n    this._pubnub = null;\n\n    /** @private */\n    this._pubnubLastChannel = null;\n\n    /** @private */\n    this._pubnubLastSubscribeKey = null;\n\n    /** @private */\n    this._timeout = null;\n\n    /** @private */\n    this._subscription = null;\n\n}\n\nSubscription.prototype = Object.create(EventEmitter.prototype);\n\nSubscription.prototype.subscribed = function() {\n\n    var subscription = this.subscription();\n\n    return !!(subscription.id &&\n              subscription.deliveryMode &&\n              subscription.deliveryMode.subscriberKey &&\n              subscription.deliveryMode.address);\n\n};\n\n/**\n * @return {boolean}\n */\nSubscription.prototype.alive = function() {\n    return this.subscribed() && Date.now() < this.expirationTime();\n};\n\n/**\n * @return {boolean}\n */\nSubscription.prototype.expired = function() {\n    if (!this.subscribed()) return true;\n    return !this.subscribed() || Date.now() > parseISOString(this.subscription().expirationTime);\n};\n\n/**\n * @return {number}\n */\nSubscription.prototype.expirationTime = function() {\n    return parseISOString(this.subscription().expirationTime) - this._renewHandicapMs;\n};\n\n/**\n * @param {ISubscription} subscription\n * @return {Subscription}\n */\nSubscription.prototype.setSubscription = function(subscription) {\n\n    subscription = subscription || {};\n\n    this._clearTimeout();\n    this._setSubscription(subscription);\n    this._subscribeAtPubnub();\n    this._setTimeout();\n\n    return this;\n\n};\n\n/**\n * @return {ISubscription}\n */\nSubscription.prototype.subscription = function() {\n    return this._subscription || {};\n};\n\n/**\n * Creates or updates subscription if there is an active one\n * @returns {Promise<ApiResponse>}\n */\nSubscription.prototype.register = function() {\n\n    if (this.alive()) {\n        return this.renew();\n    } else {\n        return this.subscribe();\n    }\n\n};\n\n/**\n * @return {string[]}\n */\nSubscription.prototype.eventFilters = function() {\n    return this.subscription().eventFilters || [];\n};\n\n/**\n * @param {string[]} events\n * @return {Subscription}\n */\nSubscription.prototype.addEventFilters = function(events) {\n    this.setEventFilters(this.eventFilters().concat(events));\n    return this;\n};\n\n/**\n * @param {string[]} events\n * @return {Subscription}\n */\nSubscription.prototype.setEventFilters = function(events) {\n    var subscription = this.subscription();\n    subscription.eventFilters = events;\n    this._setSubscription(subscription);\n    return this;\n};\n\n/**\n * @returns {Promise<ApiResponse>}\n */\nSubscription.prototype.subscribe = function() {\n\n    return (new this._externals.Promise(function(resolve) {\n\n        this._clearTimeout();\n\n        if (!this.eventFilters().length) throw new Error('Events are undefined');\n\n        resolve(this._platform.post('/subscription', {\n            eventFilters: this._getFullEventFilters(),\n            deliveryMode: {\n                transportType: 'PubNub'\n            }\n        }));\n\n    }.bind(this))).then(function(response) {\n\n        var json = response.json();\n\n        this.setSubscription(json)\n            .emit(this.events.subscribeSuccess, response);\n\n        return response;\n\n    }.bind(this)).catch(function(e) {\n\n        e = this._platform.client().makeError(e);\n        // `reset` will remove pubnub instance.\n        // so if network is broken for a long time, pubnub will be removed. And client can not receive notification anymore.\n        this.reset()\n            .emit(this.events.subscribeError, e);\n\n        throw e;\n\n    }.bind(this));\n\n};\n\n/**\n * @returns {Promise<ApiResponse>}\n */\nSubscription.prototype.renew = function() {\n\n    return (new this._externals.Promise(function(resolve) {\n\n        this._clearTimeout();\n\n        if (!this.subscribed()) throw new Error('No subscription');\n\n        if (!this.eventFilters().length) throw new Error('Events are undefined');\n\n        resolve(this._platform.put('/subscription/' + this.subscription().id, {\n            eventFilters: this._getFullEventFilters()\n        }));\n\n    }.bind(this))).then(function(response) {\n\n        var json = response.json();\n\n        this.setSubscription(json)\n            .emit(this.events.renewSuccess, response);\n\n        return response;\n\n    }.bind(this)).catch(function(e) {\n\n        e = this._platform.client().makeError(e);\n        // `reset` will remove pubnub instance.\n        // so if network is broken for a long time, pubnub will be removed. And client can not receive notification anymore.\n        this.reset()\n            .emit(this.events.renewError, e);\n\n        throw e;\n\n    }.bind(this));\n\n};\n\n/**\n * @returns {Promise<ApiResponse>}\n */\nSubscription.prototype.remove = function() {\n\n    return (new this._externals.Promise(function(resolve) {\n\n        if (!this.subscribed()) throw new Error('No subscription');\n\n        resolve(this._platform.delete('/subscription/' + this.subscription().id));\n\n    }.bind(this))).then(function(response) {\n\n        this.reset()\n            .emit(this.events.removeSuccess, response);\n\n        return response;\n\n    }.bind(this)).catch(function(e) {\n\n        e = this._platform.client().makeError(e);\n\n        this.emit(this.events.removeError, e);\n\n        throw e;\n\n    }.bind(this));\n\n};\n\n/**\n * @returns {Promise<ApiResponse>}\n */\nSubscription.prototype.resubscribe = function() {\n    var filters = this.eventFilters();\n    return this.reset().setEventFilters(filters).subscribe();\n};\n\n/**\n * Remove subscription and disconnect from PubNub\n * This method resets subscription at client side but backend is not notified\n * @return {Subscription}\n */\nSubscription.prototype.reset = function() {\n    this._clearTimeout();\n    this._unsubscribeAtPubnub();\n    this._setSubscription(null);\n    return this;\n};\n\n/**\n * @param subscription\n * @private\n */\nSubscription.prototype._setSubscription = function(subscription) {\n    this._subscription = subscription;\n};\n\n/**\n * @return {string[]}\n * @private\n */\nSubscription.prototype._getFullEventFilters = function() {\n\n    return this.eventFilters().map(function(event) {\n        return this._platform.createUrl(event);\n    }.bind(this));\n\n};\n\n/**\n * @return {Subscription}\n * @private\n */\nSubscription.prototype._setTimeout = function() {\n\n    this._clearTimeout();\n\n    if (!this.alive()) throw new Error('Subscription is not alive');\n\n    this._timeout = setInterval(function() {\n\n        if (this.alive()) {\n            return;\n        }\n\n        this._clearTimeout();\n\n        (new this._externals.Promise(function(resolve) {\n\n            if (this.expired()) {\n                resolve(this.subscribe());\n            } else {\n                resolve(this.renew());\n            }\n\n        }.bind(this))).then(function(res) {\n\n            this.emit(this.events.automaticRenewSuccess, res);\n\n        }.bind(this)).catch(function(e) {\n\n            this.emit(this.events.automaticRenewError, e);\n\n        }.bind(this));\n\n    }.bind(this), this._pollInterval);\n\n    return this;\n\n};\n\n/**\n * @return {Subscription}\n * @private\n */\nSubscription.prototype._clearTimeout = function() {\n    clearInterval(this._timeout);\n    return this;\n};\n\nSubscription.prototype._decrypt = function(message) {\n\n    if (!this.subscribed()) throw new Error('No subscription');\n\n    if (this.subscription().deliveryMode.encryptionKey) {\n\n        message = this._pubnub.decrypt(message, this.subscription().deliveryMode.encryptionKey, {\n            encryptKey: false,\n            keyEncoding: 'base64',\n            keyLength: 128,\n            mode: 'ecb'\n        });\n\n    }\n\n    return message;\n\n};\n\n/**\n * @param message\n * @return {Subscription}\n * @private\n */\nSubscription.prototype._notify = function(message) {\n    this.emit(this.events.notification, this._decrypt(message));\n    return this;\n};\n\n/**\n * @return {Subscription}\n * @private\n */\nSubscription.prototype._subscribeAtPubnub = function() {\n\n    if (!this.alive()) throw new Error('Subscription is not alive');\n\n    var deliveryMode = this.subscription().deliveryMode;\n\n    if (this._pubnub) {\n\n        if (this._pubnubLastChannel === deliveryMode.address) {\n\n            // Nothing to update, keep listening to same channel\n            return this;\n\n        } else if (this._pubnubLastSubscribeKey && this._pubnubLastSubscribeKey !== deliveryMode.subscriberKey) {\n\n            // Subscribe key changed, need to reset everything\n            this._unsubscribeAtPubnub();\n\n        } else if (this._pubnubLastChannel) {\n\n            // Need to subscribe to new channel\n            this._pubnub.unsubscribeAll();\n\n        }\n\n    }\n\n    if (!this._pubnub) {\n\n        this._pubnubLastSubscribeKey = deliveryMode.subscriberKey;\n\n        var PubNub = this._externals.PubNub;\n\n        this._pubnub = new PubNub({\n            ssl: true,\n            restore: true,\n            subscribeKey: deliveryMode.subscriberKey\n        });\n\n        this._pubnub.addListener({\n            status: function(statusEvent) {},\n            message: function(m) {\n                this._notify(m.message); // all other props are ignored\n            }.bind(this)\n        });\n\n    }\n\n    this._pubnubLastChannel = deliveryMode.address;\n    this._pubnub.subscribe({channels: [deliveryMode.address]});\n\n    return this;\n\n};\n\n/**\n * @return {Subscription}\n * @private\n */\nSubscription.prototype._unsubscribeAtPubnub = function() {\n\n    if (!this.subscribed() || !this._pubnub) return this;\n\n    this._pubnub.removeAllListeners();\n    this._pubnub.destroy(); // this will unsubscribe from all\n\n    this._pubnubLastSubscribeKey = null;\n    this._pubnubLastChannel = null;\n    this._pubnub = null;\n\n    return this;\n\n};\n\nmodule.exports = Subscription;\n\n/**\n * The complete Triforce, or one or more components of the Triforce.\n * @typedef {Object} ISubscription\n * @property {string} [id]\n * @property {string} [uri]\n * @property {string[]} [eventFilters]\n * @property {string} [expirationTime] Format: 2014-03-12T19:54:35.613+0000\n * @property {int} [expiresIn]\n * @property {string} [deliveryMode.transportType]\n * @property {boolean} [deliveryMode.encryption]\n * @property {string} [deliveryMode.address]\n * @property {string} [deliveryMode.subscriberKey]\n * @property {string} [deliveryMode.encryptionKey]\n * @property {string} [deliveryMode.secretKey]\n * @property {string} [creationTime]\n * @property {string} [status] Active\n */","var Subscription = require(\"./Subscription\");\n\n/**\n * @param {Platform} options.platform\n * @param {Externals} options.externals\n * @param {Cache} options.cache\n * @param {string} options.cacheKey\n * @param {int} [options.pollInterval]\n * @param {int} [options.renewHandicapMs]\n * @return {CachedSubscription}\n * @constructor\n * @property {Cache} _cache\n * @extends Subscription\n */\nfunction CachedSubscription(options) {\n\n    options = options || {};\n\n    if (!options.cacheKey) throw new Error('Cached Subscription requires cacheKey parameter to be defined');\n\n    /** @private */\n    this._cacheKey = options.cacheKey;\n\n    Subscription.call(this, options);\n\n    /** @private */\n    this._cache = options.cache;\n\n    // This is not used in this class\n    this._subscription = undefined;\n\n}\n\nCachedSubscription.prototype = Object.create(Subscription.prototype);\n\nCachedSubscription.prototype.subscription = function() {\n    return this._cache.getItem(this._cacheKey) || {};\n};\n\nCachedSubscription.prototype._setSubscription = function(subscription) {\n    return this._cache.setItem(this._cacheKey, subscription);\n};\n\n/**\n * This function checks whether there are any pre-defined eventFilters in cache and if not -- uses provided as defaults\n * @param {string[]} events\n * @return {CachedSubscription}\n */\nCachedSubscription.prototype.restore = function(events) {\n\n    if (!this.eventFilters().length) {\n        this.setEventFilters(events);\n    }\n\n    return this;\n\n};\n\nmodule.exports = CachedSubscription;","/**\n * @namespace RingCentral\n */\nvar objectAssign = require('object-assign');\nvar Cache = require(\"./core/Cache\");\nvar Client = require(\"./http/Client\");\nvar Externals = require(\"./core/Externals\");\nvar Platform = require(\"./platform/Platform\");\nvar Subscription = require(\"./subscription/Subscription\");\nvar CachedSubscription = require(\"./subscription/CachedSubscription\");\nvar Constants = require(\"./core/Constants\");\n\n/**\n * @constructor\n * @param {string} options.server\n * @param {string} options.appSecret\n * @param {string} options.appKey\n * @param {string} [options.cachePrefix]\n * @param {string} [options.appName]\n * @param {string} [options.appVersion]\n * @param {string} [options.redirectUri]\n * @param {PubNub} [options.PubNub]\n * @param {function(new:Promise)} [options.Promise]\n * @param {Storage} [options.localStorage]\n * @param {fetch} [options.fetch]\n * @param {function(new:Request)} [options.Request]\n * @param {function(new:Response)} [options.Response]\n * @param {function(new:Headers)} [options.Headers]\n * @param {int} [options.refreshDelayMs]\n * @param {int} [options.refreshHandicapMs]\n * @param {boolean} [options.clearCacheOnRefreshError]\n * @property {Externals} _externals\n * @property {Cache} _cache\n * @property {Client} _client\n * @property {Platform} _platform\n */\nfunction SDK(options) {\n\n    /** @private */\n    this._externals = new Externals(options);\n\n    /** @private */\n    this._cache = new Cache({\n        externals: this._externals,\n        prefix: options.cachePrefix\n    });\n\n    /** @private */\n    this._client = new Client(this._externals);\n\n    /** @private */\n    this._platform = new Platform(objectAssign({}, options, {\n        externals: this._externals,\n        client: this._client,\n        cache: this._cache\n    }));\n\n}\n\nSDK.version = Constants.version;\n\nSDK.server = {\n    sandbox: 'https://platform.devtest.ringcentral.com',\n    production: 'https://platform.ringcentral.com'\n};\n\n/**\n * @return {Platform}\n */\nSDK.prototype.platform = function() {\n    return this._platform;\n};\n\n/**\n * @return {Cache}\n */\nSDK.prototype.cache = function() {\n    return this._cache;\n};\n\n/**\n * @param {int} [options.pollInterval]\n * @param {int} [options.renewHandicapMs]\n * @return {Subscription}\n */\nSDK.prototype.createSubscription = function(options) {\n    return new Subscription(objectAssign({}, options, {\n        externals: this._externals,\n        platform: this._platform\n    }));\n};\n\n/**\n * @param {string} options.cacheKey\n * @param {int} [options.pollInterval]\n * @param {int} [options.renewHandicapMs]\n * @return {CachedSubscription}\n */\nSDK.prototype.createCachedSubscription = function(options) {\n\n    if (typeof arguments[0] === 'string') {\n        options = {cacheKey: arguments[0].toString()};\n    } else {\n        options = options || {};\n    }\n\n    return new CachedSubscription(objectAssign({}, options, {\n        externals: this._externals,\n        platform: this._platform,\n        cache: this._cache\n    }));\n\n};\n\nSDK.handleLoginRedirect = function(origin, win) {\n\n    win = win || window;\n\n    var response = win.location.hash ? win.location.hash : win.location.search;\n    var msg = {};\n    msg[Constants.authResponseProperty] = response;\n    win.opener.postMessage(msg, origin || win.location.origin);\n\n};\n\nmodule.exports = SDK;"],"names":["isObject","EventEmitter","hasOwnProperty","ApiResponse","qs","global","fetchPonyfill","FetchPonyfill","Auth","Subscription","Externals","Cache","Client","Platform","CachedSubscription"],"mappings":"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"}